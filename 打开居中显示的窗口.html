<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- <script>
        var middlewin;
        function middlewin(){
        var w=200,h=300;
        var x=(screen.width-w)/2;
        var y=(screen.height=h)/2;
        var str='top='+y+',left='+x+',width='+w+'，height='+h;

         middlewin=open('','',str)
        }
    </script>
    <input type="button"  id="cic" value="打开居中显示的新窗口" onclick="middlewin()"> -->


<!-- 
    <script>
      
        if(screen.width!=1920){
            alert("不是最佳分配率，建议调整分配率为1920*1080")
        }else{
            alert('最佳浏览环境')
        }
    
    </script> -->
    <script>
        var guojing=new Object;
            guojing.name="郭靖";
            guojing.HP=500;
            guojing.gj=90;
            guojing.sd=60;
            guojing.skill=new Array('亢龙有悔','飞龙在天','见龙在田','神龙摆尾','龙腾虎跃')


        var ouyangfeng=new Object;
            ouyangfeng.name="欧阳锋";
            ouyangfeng.HP=800;
            ouyangfeng.gj=100;
            ouyangfeng.sd=40;
            ouyangfeng.skill=new Array('灵蛇坤法','凤凰神功','颠倒阴阳','逆转静脉','天障神功')

            function whoGjwho(a,b){
                return a.sd*Math.random()>b.sd*Math.random()?[a,b]:[b,a]
            }

           //var Fight=whoGjwho(guojing,ouyangfeng)
           //alert(Fight[0].name)

         
            function game(){
                var skillIndex=Math.floor(Math.random()*5)
                var Fight=whoGjwho(guojing,ouyangfeng);
                var attacker=Fight[0];
                var defender=Fight[1];
                var damage=attacker.gj*Math.random()-defender.gj*Math.random();
                    if(damage<=0){
                        damage=0
                    }else{
                        damage=Math.ceil(damage);
                    }
                defender.HP-=damage;

                document.write(attacker.name+"使用了一招"+attacker.skill[skillIndex]+'<br>')
                document.write(defender.name+"损失了"+damage+'点HP'+'<br>')

               if(defender.HP>0) {
                   document.write(defender.name+"的HP："+defender.HP+'<br>'+attacker.name+'的HP：'+attacker.HP+'<hr>')

               }else{
                   document.write(defender.name+'战败了'+'<br>'+attacker.name+'取得了胜利！'+'<br>')
                   alert(attacker.name+'取得了胜利！'+'Game Over!')
                   clearInterval(zd)

               }

            }
                var zd=setInterval('game()',50)
     </script>
</body>
</html>